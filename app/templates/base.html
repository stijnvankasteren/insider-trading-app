<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page_title or app_name }}</title>
    <link rel="icon" href="/static/logo.svg" type="image/svg+xml" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/static/site.css" />
  </head>
  <body class="min-h-screen bg-slate-950 text-slate-100">
    {% set path = request.url.path %}
    {% set app_menu_active = path == '/app'
      or path.startswith('/app/search')
      or path.startswith('/app/people')
      or path.startswith('/app/companies')
      or path.startswith('/app/prices')
      or path.startswith('/app/portfolio')
      or path.startswith('/app/watchlist')
      or path.startswith('/app/settings')
    %}
    {% set forms_menu_active = path.startswith('/app/3')
      or path.startswith('/app/insiders')
      or path.startswith('/app/13d')
      or path.startswith('/app/13f')
      or path.startswith('/app/8k')
      or path.startswith('/app/10k')
      or path.startswith('/app/congress')
    %}
    <header class="border-b border-slate-800">
      <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-4">
        <a href="/" class="flex items-center gap-2 text-lg font-semibold tracking-tight hover:opacity-90">
          <img src="/static/logo.svg" alt="{{ app_name }} logo" class="h-7 w-7" />
          <span>{{ app_name }}</span>
        </a>
        <nav class="flex flex-wrap items-center gap-2 text-sm text-slate-300">
          <details class="relative">
            <summary
              class="flex cursor-pointer list-none items-center gap-1 rounded-md px-2 py-1 {{ 'text-white' if app_menu_active else 'hover:text-white' }}"
            >
              <span>App</span>
              <svg class="h-3 w-3 text-slate-500" viewBox="0 0 12 12" fill="none" aria-hidden="true">
                <path d="M3 5l3 3 3-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </summary>
            <div class="absolute left-0 z-20 mt-2 w-56 rounded-lg border border-slate-800 bg-slate-950 p-2 shadow-lg">
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path == '/app' else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app"
              >
                Dashboard
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/search') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/search"
              >
                Search
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/people') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/people"
              >
                People
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/prices') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/prices"
              >
                Prices
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/watchlist') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/watchlist"
              >
                Watchlist
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/portfolio') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/portfolio"
              >
                Portfolio tracker
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/settings') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/settings"
              >
                Settings
              </a>
            </div>
          </details>
          <details class="relative">
            <summary
              class="flex cursor-pointer list-none items-center gap-1 rounded-md px-2 py-1 {{ 'text-white' if forms_menu_active else 'hover:text-white' }}"
            >
              <span>Forms</span>
              <svg class="h-3 w-3 text-slate-500" viewBox="0 0 12 12" fill="none" aria-hidden="true">
                <path d="M3 5l3 3 3-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </summary>
            <div class="absolute left-0 z-20 mt-2 w-56 rounded-lg border border-slate-800 bg-slate-950 p-2 shadow-lg">
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/3') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/3"
              >
                Form 3
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/insiders') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/insiders"
              >
                Form 4
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/13d') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/13d"
              >
                Schedule 13D
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/13f') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/13f"
              >
                Form 13F
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/8k') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/8k"
              >
                Form 8-K
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/10k') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/10k"
              >
                Form 10-K
              </a>
              <a
                class="block rounded-md px-2 py-1 {{ 'bg-slate-900/60 text-white' if path.startswith('/app/congress') else 'text-slate-300 hover:bg-slate-900/60 hover:text-white' }}"
                href="/app/congress"
              >
                Congress
              </a>
            </div>
          </details>
          <a class="rounded-md px-2 py-1 hover:text-white" href="/pricing">Pricing</a>
          <a class="rounded-md px-2 py-1 hover:text-white" href="/subscribe">Subscribe</a>
          <a class="rounded-md px-2 py-1 hover:text-white" href="/about">About</a>
          {% if auth_disabled %}
            <span class="rounded-md border border-slate-800 px-2 py-1 text-xs text-slate-400">
              Auth disabled
            </span>
          {% elif current_user %}
            <span class="hidden rounded-md border border-slate-800 px-2 py-1 text-xs text-slate-400 md:inline">
              {{ current_user }}
            </span>
            <a class="rounded-md px-2 py-1 hover:text-white" href="/logout">Logout</a>
          {% else %}
            <a class="rounded-md px-2 py-1 hover:text-white" href="/signup">Sign up</a>
            <a class="rounded-md px-2 py-1 hover:text-white" href="/login">Login</a>
          {% endif %}
        </nav>
      </div>
    </header>

    <main class="mx-auto max-w-6xl px-4 py-10">
      {% block content %}{% endblock %}
    </main>

    <footer class="border-t border-slate-800">
      <div class="mx-auto max-w-6xl px-4 py-8 text-xs text-slate-500">
        Built with FastAPI. Original content/branding. <a class="hover:text-slate-300" href="/legal/privacy">Privacy</a> Â·
        <a class="hover:text-slate-300" href="/legal/terms">Terms</a>
      </div>
    </footer>
  </body>
</html>
